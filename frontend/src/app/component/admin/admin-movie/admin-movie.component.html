<div class="content">
    <div class="mart-20">
        <div class="">
            <form [formGroup]="searchForm" class="">
                <div class="category">
                    <label for="inputCategory">Thể Loại Phim</label>
                    <br />
                    <select class="custom-select form-control" (change)="updateMovieType($event.target.value)"
                        formControlName="category">
                        <option *ngFor="let eachCategory of category" value="{{eachCategory}}">
                            {{eachCategory }}
                        </option>
                    </select>
                </div>
                <div class="category">
                    <label for="inputCategory">Category</label>
                    <br />
                    <select class="custom-select form-control" (change)="updateCategory($event.target.value)"
                        formControlName="genre">
                        <option *ngFor="let eachCategory of genre" value="{{eachCategory}}">
                            {{eachCategory }}
                        </option>
                    </select>
                </div>
                <div class="country">
                    <label for="inputCountry">Country</label>
                    <br />
                    <select class="custom-select form-control" (change)="updateCountry($event.target.value)"
                        formControlName="country">
                        <option *ngFor="let eachCountry of country" value="{{eachCountry}}">
                            {{eachCountry }}
                        </option>
                    </select>
                </div>
                <div class="time">
                    <label for="inputTime">Time</label>
                    <br />
                    <select class="custom-select form-control" (change)="updateTime($event.target.value)"
                        formControlName="run_time">
                        <option *ngFor="let eachTime of run_time" value="{{eachTime}}">
                            {{eachTime }}
                        </option>
                    </select>
                </div>
                <div class="year">
                    <label for="inputYear">Year</label>
                    <br />
                    <select class="custom-select form-control" (change)="updateYear($event.target.value)"
                        formControlName="release_year">
                        <option *ngFor="let eachYear of release_year" value="{{eachYear}}">
                            {{eachYear }}
                        </option>
                    </select>
                </div>
                <button class="filter" type="submit" (click)="onSubmit()">Lọc danh sách</button>
                <button class="reset" (click)="reset()">Reset</button>
            </form>
        </div>
    </div>


    <div class="movie" *ngIf="result">
        <app-pagination [data]="movies" (keyPagination)="handleData($event)"></app-pagination>
        <div class="contain flexbox-start-start" *ngIf="statusEachMovie == true">
            <div class="number flexbox-center-start">
                <div style="width:100px">Picture</div>
                <div style="width:200px">Tên Phim</div>
                <div style="width:200px">Tên Gốc</div>
                <div style="width:80px">Loại Phim</div>
                <div style="width:80px">Thời Gian</div>
                <div style="width:80px">Rate</div>
                <div style="width:230px">Thể Loại Phim</div>
                <div style="width:80px">Country</div>
                <div style="width:100px">Views</div>
                <div class="" style="width:188px">
                    <button type="button" class="btn btn-success" routerLink="/admin/create">Create</button>
                </div>
            </div>

            <div class="number1 flexbox-center-start" *ngFor="let movie of pagedItems">
                <div style="width:100px" class="movie-item">
                    <img class="picture" src="{{movie.name_image}}" loading="lazy">
                </div>
                <div style="width:200px" class="movie-item">{{movie.name}}</div>
                <div style="width:200px" class="movie-item">{{movie.real_name}}</div>
                <div style="width:80px" class="movie-item">{{movie.category}}</div>
                <div style="width:80px" class="movie-item">{{movie.run_time}}</div>
                <div style="width:80px" class="movie-item">{{movie.rate}}</div>
                <div style="width:230px" class="movie-item pad-10">{{movie.genre}}</div>
                <div style="width:80px" class="movie-item">{{movie.country}}</div>
                <div style="width:100px" class="movie-item">{{movie.views}}</div>
                <div style="width:188px" class="">
                    <button type="button" class="btn btn-warning marr-5"
                        routerLink="/admin/edit/{{movie.id}}">Edit</button>
                    <button type="button" class="btn btn-danger" (click)="delete(movie.id)">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="!result" class="flexbox-center-center">
        <h1>Không có phim nào được tìm thấy</h1>
    </div>

    <div class="" *ngIf="showAlert">
        <app-alert [data]="{type: 'select', message: 'Bạn có chắc chắn muốn xóa không?'}" (keyAlert)="handleDataAlert($event)"></app-alert>
    </div>
</div>